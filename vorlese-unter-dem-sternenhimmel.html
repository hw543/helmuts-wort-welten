<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unter dem Sternenhimmel ‚Äì Vorleseabenteuer</title>
    <style>
        /* Grundlegendes Seitenlayout */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Georgia', serif;
            line-height: 1.8;
            color: #2c1810;
            background: linear-gradient(135deg, #FFEFEF 0%, #FFD4C2 50%, #FFCFCF 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #FFF8F0;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: visible;
        }
        .header {
            background: linear-gradient(135deg, #E94E77, #C06C84);
            color: #FFF8F0;
            padding: 30px;
            text-align: center;
        }
        .book-cover {
            text-align: center;
            margin-bottom: 20px;
        }
        .book-cover img {
            max-width: 220px;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            border: 3px solid #E94E77;
        }
        .header h1 {
            font-size: 2.4em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            font-style: italic;
        }
        .controls {
            background: #FFF8F8;
            padding: 20px;
            border-bottom: 3px solid #E94E77;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .language-navigation {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        .btn-lang {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #E94E77, #C06C84);
            color: white;
        }
        .btn-lang.active {
            border: 2px solid #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        .btn-lang:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }
        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
            color: white;
        }
        .btn-play {
            background: linear-gradient(135deg, #EA4335, #D93025);
        }
        .btn-continue {
            background: linear-gradient(135deg, #34A853, #0F9D58);
        }
        .btn-stop {
            background: linear-gradient(135deg, #F9AB00, #FBBC05);
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .content {
            padding: 30px;
            font-size: 1.1em;
            line-height: 1.8;
        }
        .book-title {
            color: #C06C84;
            font-size: 2em;
            margin-bottom: 10px;
            text-align: center;
            border-bottom: 2px solid #E94E77;
            padding-bottom: 10px;
        }
        .chapter-title {
            color: #6C5B7B;
            font-size: 1.5em;
            margin: 25px 0 15px;
            text-align: center;
            font-style: italic;
        }
        .text-content {
            text-align: justify;
            margin-bottom: 30px;
        }
        .word {
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 1px 2px;
            border-radius: 3px;
        }
        .word:hover {
            background-color: #FFE4E1;
        }
        .word-highlight {
            background-color: #4169E1;
            color: white;
            padding: 2px 4px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(65, 105, 225, 0.3);
        }
        .hidden {
            display: none;
        }
        @media (max-width: 600px) {
            .control-buttons {
                gap: 10px;
            }
            .btn {
                min-width: 100px;
                font-size: 0.9em;
                padding: 10px 16px;
            }
            .content {
                padding: 20px;
                font-size: 1em;
            }
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="book-cover">
                <img src="unter-dem-sternenhimmel.jpg" alt="Unter dem Sternenhimmel ‚Äì Cover" />
            </div>
            <h1>Unter dem Sternenhimmel</h1>
            <p>Vorlesen und Mitlesen leicht gemacht ‚Äì tauchen Sie ein in eine romantische Geschichte</p>
        </div>
        <div class="controls">
            <div class="language-navigation">
                <button class="btn-lang active" onclick="switchLanguage('de', event)">üá©üá™ Deutsch</button>
                <button class="btn-lang" onclick="switchLanguage('en', event)">üá¨üáß English</button>
            </div>
            <div class="control-buttons">
                <button class="btn btn-play" id="btn-play" onclick="startReading()">üî¥ Vorlesen</button>
                <button class="btn btn-continue" id="btn-continue" onclick="continueReading()">‚ñ∂Ô∏è Weiterlesen</button>
                <button class="btn btn-stop" id="btn-stop" onclick="stopReading()">‚èπÔ∏è Stop</button>
            </div>
        </div>
        <div class="content">
            <div class="book-title">Serie: Verlangen der Herzen - Band 1</div>
            <div class="chapter-title">Kapitel 1: Neue Anf√§nge</div>
            <!-- Deutsche Fassung -->
            <div id="de-content" class="language-content">
                <div class="text-content" id="de-textContent">
                    <p>
                        Clara stand am Fenster ihrer kleinen Wohnung und blickte hinaus auf die funkelnden Lichter der Stadt. Es war eine klare Nacht, und die Sterne leuchteten heller als je zuvor. Seit drei Monaten lebte sie nun schon in dieser neuen Stadt, weit weg von allem, was sie kannte. Der Neuanfang war schwerer gewesen, als sie erwartet hatte. Die Arbeit als Grafikdesignerin in der kleinen Werbeagentur war interessant, aber die Kollegen blieben distanziert. Manchmal fragte sie sich, ob die Entscheidung richtig gewesen war. Ihr altes Leben in M√ºnchen hatte sie zur√ºckgelassen, nachdem ihre langj√§hrige Beziehung zerbrochen war. ‚ÄûEin neuer Ort, ein neues Leben", hatte sie sich gesagt. Doch die Einsamkeit war ein st√§ndiger Begleiter geworden. Clara seufzte und wandte sich vom Fenster ab. Morgen w√ºrde ein neuer Tag beginnen, und vielleicht w√ºrde er etwas Besseres mit sich bringen.
                    </p>
                    <p>
                        Am n√§chsten Morgen betrat Clara das kleine Caf√© in der N√§he ihres B√ºros, wie jeden Tag. Der Duft von frisch gebr√ºhtem Kaffee und warmen Croissants erf√ºllte die Luft. Sie hatte sich gerade in die Schlange eingereiht, als sie ihn bemerkte. Ein Mann mit dunklen Haaren und freundlichen Augen sa√ü an einem Tisch in der Ecke und skizzierte etwas in ein Notizbuch. Es war etwas an ihm, das ihre Aufmerksamkeit fesselte ‚Äì vielleicht die Art, wie er sich v√∂llig in seine Arbeit vertiefte, oder das leichte L√§cheln, das um seine Lippen spielte. ‚ÄûEinen Cappuccino, bitte", sagte sie zur Barista, konnte aber ihren Blick nicht von dem Fremden abwenden. Als sie ihre Bestellung erhielt, fasste sie einen mutigen Entschluss. Sie ging zu seinem Tisch hin√ºber. ‚ÄûEntschuldigung", sagte sie leise. ‚ÄûIch bin Grafikdesignerin und konnte nicht umhin zu bemerken, dass Sie zeichnen. Darf ich fragen, woran Sie arbeiten?" Der Mann blickte auf, und ihre Augen trafen sich zum ersten Mal.
                    </p>
                    <p>
                        ‚ÄûIch bin Alex", sagte er mit einem warmen L√§cheln und deutete auf den freien Stuhl. ‚ÄûSetzen Sie sich doch. Ich arbeite an Konzepten f√ºr ein neues Buchcover." Clara nahm dankbar Platz und stellte sich vor. Sie erfuhr, dass Alex freiberuflicher Illustrator war und erst vor kurzem ebenfalls in die Stadt gezogen war. ‚ÄûEs ist nicht leicht, in einer neuen Stadt Fu√ü zu fassen", sagte er, als h√§tte er ihre Gedanken gelesen. ‚ÄûIch kenne das Gef√ºhl nur zu gut." Sie sprachen √ºber ihre Arbeit, ihre Tr√§ume und die Herausforderungen des Neuanfangs. Clara sp√ºrte, wie sich zum ersten Mal seit langer Zeit eine echte Verbindung aufbaute. Alex h√∂rte aufmerksam zu und teilte seine eigenen Erfahrungen mit ihr. Die Zeit verging wie im Flug, und als Clara schlie√ülich auf die Uhr blickte, bemerkte sie, dass sie fast zu sp√§t zur Arbeit kommen w√ºrde. ‚ÄûVielleicht k√∂nnten wir uns morgen wieder hier treffen?", fragte Alex hoffnungsvoll. Clara nickte mit einem L√§cheln, das von Herzen kam. Unter dem Sternenhimmel dieser neuen Stadt schien endlich etwas Wunderbares zu beginnen.
                    </p>
                </div>
            </div>
            <!-- Englische Fassung -->
            <div id="en-content" class="language-content hidden">
                <div class="text-content" id="en-textContent">
                    <p>
                        Clara stood at the window of her small apartment, looking out at the twinkling lights of the city. It was a clear night, and the stars were shining brighter than ever before. She had been living in this new city for three months now, far away from everything she knew. The fresh start had been harder than she had expected. The work as a graphic designer at the small advertising agency was interesting, but her colleagues remained distant. Sometimes she wondered if the decision had been right. She had left her old life in Munich behind after her long-term relationship had broken down. "A new place, a new life," she had told herself. But loneliness had become a constant companion. Clara sighed and turned away from the window. Tomorrow would bring a new day, and perhaps it would bring something better with it.
                    </p>
                    <p>
                        The next morning, Clara entered the small caf√© near her office, as she did every day. The aroma of freshly brewed coffee and warm croissants filled the air. She had just joined the queue when she noticed him. A man with dark hair and kind eyes sat at a table in the corner, sketching something in a notebook. There was something about him that captured her attention ‚Äì perhaps the way he was completely absorbed in his work, or the gentle smile that played around his lips. "A cappuccino, please," she said to the barista, but couldn't take her eyes off the stranger. When she received her order, she made a brave decision. She walked over to his table. "Excuse me," she said quietly. "I'm a graphic designer and couldn't help but notice that you're drawing. May I ask what you're working on?" The man looked up, and their eyes met for the first time.
                    </p>
                    <p>
                        "I'm Alex," he said with a warm smile, gesturing to the empty chair. "Please, have a seat. I'm working on concepts for a new book cover." Clara gratefully took a seat and introduced herself. She learned that Alex was a freelance illustrator who had also recently moved to the city. "It's not easy to get established in a new city," he said, as if he had read her thoughts. "I know that feeling all too well." They talked about their work, their dreams and the challenges of starting over. Clara felt a real connection building for the first time in a long while. Alex listened attentively and shared his own experiences with her. Time flew by, and when Clara finally looked at the clock, she realized she would almost be late for work. "Maybe we could meet here again tomorrow?" Alex asked hopefully. Clara nodded with a smile that came from the heart. Under the starry sky of this new city, something wonderful finally seemed to be beginning.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
        let currentSpeech = null;
        let currentLanguage = 'de';
        let currentWordIndex = 0;
        const allWords = { de: [], en: [] };
        let lastHighlightedWord = null;

        function initializeWords() {
            ['de', 'en'].forEach(lang => {
                allWords[lang] = [];
                const paragraphs = document.querySelectorAll(`#${lang}-textContent p`);
                let wordCounter = 0;
                paragraphs.forEach(paragraph => {
                    const text = paragraph.textContent.trim();
                    const splitWords = text.split(/\s+/).filter(w => w.length > 0);
                    let html = '';
                    splitWords.forEach(word => {
                        html += `<span class="word" data-index="${wordCounter}" onclick="startFromWord(${wordCounter})">${word}</span> `;
                        allWords[lang].push(word);
                        wordCounter++;
                    });
                    paragraph.innerHTML = html.trim();
                });
            });
        }

        function switchLanguage(lang, event) {
            stopReading();
            currentLanguage = lang;
            currentWordIndex = 0;
            document.querySelectorAll('.language-content').forEach(elem => elem.classList.add('hidden'));
            document.getElementById(`${lang}-content`).classList.remove('hidden');
            const labels = {
                de: { play: 'Vorlesen', cont: 'Weiterlesen', stop: 'Stop' },
                en: { play: 'Read', cont: 'Continue', stop: 'Stop' }
            };
            document.getElementById('btn-play').innerHTML = `üî¥ ${labels[lang].play}`;
            document.getElementById('btn-continue').innerHTML = `‚ñ∂Ô∏è ${labels[lang].cont}`;
            document.getElementById('btn-stop').innerHTML = `‚èπÔ∏è ${labels[lang].stop}`;
            document.querySelectorAll('.btn-lang').forEach(btn => btn.classList.remove('active'));
            if (event && event.target) {
                event.target.classList.add('active');
            }
            const topElem = document.querySelector(`#${lang}-content`);
            if (topElem) {
                topElem.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function highlightWord(index) {
            if (lastHighlightedWord) {
                lastHighlightedWord.classList.remove('word-highlight');
            }
            const element = document.querySelector(`#${currentLanguage}-content .word[data-index="${index}"]`);
            if (element) {
                element.classList.add('word-highlight');
                lastHighlightedWord = element;
                element.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function startReading() {
            currentWordIndex = 0;
            if (currentSpeech) {
                speechSynthesis.cancel();
            }
            continueReading();
        }

        function continueReading() {
            if (currentSpeech) {
                speechSynthesis.cancel();
            }
            const words = allWords[currentLanguage];
            if (words && words.length > currentWordIndex) {
                const remainingText = words.slice(currentWordIndex).join(' ');
                currentSpeech = new SpeechSynthesisUtterance(remainingText);
                currentSpeech.rate = 1.0;
                currentSpeech.lang = currentLanguage === 'de' ? 'de-DE' : 'en-US';
                let localIndex = currentWordIndex;
                currentSpeech.onboundary = function(event) {
                    if (event.name === 'word') {
                        highlightWord(localIndex);
                        localIndex++;
                        currentWordIndex = localIndex;
                    }
                };
                currentSpeech.onend = function() {
                    // am Ende nichts Besonderes
                };
                speechSynthesis.speak(currentSpeech);
            }
        }

        function startFromWord(index) {
            currentWordIndex = index;
            if (currentSpeech) {
                speechSynthesis.cancel();
            }
            continueReading();
        }

        function stopReading() {
            if (currentSpeech) {
                speechSynthesis.cancel();
                currentSpeech = null;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            initializeWords();
            switchLanguage('de');
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Der Zeitnarr – Vorleseabenteuer</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: "Georgia", serif;
            line-height: 1.8;
            background: linear-gradient(135deg, #ffe5b4 0%, #ffb6c1 50%, #98fb98 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            background: linear-gradient(135deg, #fff8dc 0%, #f0f8ff 100%);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 3px solid #ffd700;
        }
        h1 {
            color: #ff6347;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
        }
        .author {
            text-align: center;
            color: #9370db;
            font-style: italic;
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        .controls {
            position: sticky;
            top: 10px;
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #ffe4e1 0%, #e6e6fa 100%);
            border-radius: 15px;
            border: 2px solid #ffb6c1;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(255, 182, 193, 0.3);
        }
        .language-navigation {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .btn-lang {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #9370db, #8a2be2);
            color: white;
        }
        .btn-lang.active {
            border: 2px solid #ffd700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #ffffff;
            margin: 0 5px;
        }
        .btn-play { background: linear-gradient(135deg, #32cd32, #228b22); }
        .btn-continue { background: linear-gradient(135deg, #4f8f56, #356c3f); }
        .btn-stop { background: linear-gradient(135deg, #ff6347, #ff4500); }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25);
        }
        .story-text {
            font-size: 1.1em;
            line-height: 1.8;
            color: #2f4f4f;
            text-align: justify;
            background: linear-gradient(135deg, #fffaf0 0%, #fff8dc 100%);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #dda0dd;
            box-shadow: 0 5px 15px rgba(221, 160, 221, 0.2);
        }
        .word {
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 1px 2px;
            border-radius: 3px;
        }
        .word:hover { background-color: #e7f9e7; }
        .word-highlight {
            background-color: #4169e1;
            color: white;
            padding: 2px 4px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(65, 105, 225, 0.3);
        }
        .language-content.hidden { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Der Zeitnarr</h1>
        <p class="author">Kapitel 1: Der Flohmarktfund</p>
        <div class="controls">
            <div class="language-navigation">
                <button class="btn-lang active" onclick="switchLanguage('de', event)">🇩🇪 Deutsch</button>
                <button class="btn-lang" onclick="switchLanguage('en', event)">🇬🇧 English</button>
            </div>
            <button class="btn btn-play" id="btn-play" onclick="startReading()">▶️ Vorlesen</button>
            <button class="btn btn-continue" id="btn-continue" onclick="continueReading()">⏩ Weiterlesen</button>
            <button class="btn btn-stop" id="btn-stop" onclick="stopReading()">⏹️ Stop</button>
        </div>
        <!-- Deutscher Text -->
        <div class="story-text language-content" id="de-content">
            <p>Kapitel 1: Der Flohmarktfund
Der Flohmarkt war eine Welt für sich. Reihen von Ständen zogen sich über den kleinen Marktplatz, jeder beladen mit einer kunterbunten Mischung aus Altem, Kuriosem und Wertvollem. Max schob sich durch die Menschenmenge, die Hände tief in den Taschen seiner abgetragenen Jeans vergraben. Seine Mutter hatte ihn mitgeschleppt, obwohl er eigentlich lieber zu Hause geblieben wäre.</p>
            <p>„Hier, Max! Schau mal, alte Bücher!“ rief seine Mutter und verschwand zwischen den Ständen.</p>
            <p>Max seufzte. Bücher waren nicht sein Ding. Er streifte ziellos durch die Gassen, bis sein Blick an einem kleinen Stand hängen blieb. Er war unscheinbar – ein alter Mann mit einem zerknitterten Gesicht saß auf einem wackeligen Stuhl hinter einem Tisch, auf dem eine Ansammlung von scheinbar wertlosem Kram lag. Doch etwas auf diesem Tisch zog Max magisch an.</p>
            <p>Eine Taschenuhr.</p>
            <p>Die Uhr war aus Messing, verziert mit filigranen Gravuren, die sich wie ein Labyrinth über die Oberfläche zogen. Ihr Glas war leicht zerkratzt, und der Deckel lag halb offen. Max griff danach, zögerte kurz, doch dann nahm er sie in die Hand. Sie fühlte sich überraschend schwer an, und als er sie öffnete, schlugen die Zeiger wie von selbst einen wilden Tanz.</p>
            <p>„Interessierst du dich für alte Dinge?“ fragte der Mann mit heiserer Stimme. Seine Augen funkelten auf eine Art, die Max nicht einordnen konnte – irgendwo zwischen Neugier und Geheimnis.</p>
            <p>„Vielleicht. Was kostet sie?“ Max drehte die Uhr in seiner Hand, während das Zifferblatt im Licht der Nachmittagssonne aufblitzte.</p>
            <p>Der Mann schien kurz nachzudenken. „Für dich? Zehn Euro. Aber sei vorsichtig mit ihr. Diese Uhr hat mehr Geschichte, als du dir vorstellen kannst.“</p>
            <p>Max zog sein Taschengeld hervor und legte es auf den Tisch. Der Mann nickte knapp, nahm das Geld und lächelte, als Max sich mit der Uhr in der Hand entfernte.</p>
            <p>Zuhause setzte sich Max an seinen Schreibtisch. Er klappte die Uhr auf und betrachtete das Zifferblatt genauer. Es schien fast zu leben – die Gravuren bewegten sich leicht, als ob sie atmeten. Ohne lange nachzudenken, zog er die kleine Krone an der Seite auf.</p>
            <p>Plötzlich schien die Luft im Raum zu vibrieren. Ein tiefes Summen erfüllte seine Ohren, und die Wände um ihn herum verschwammen. Max riss die Augen auf, wollte die Uhr fallen lassen, doch sie klebte wie festgewachsen an seiner Hand. Ein grelles Licht flammte auf, und für einen Moment schien die Welt stillzustehen.</p>
            <p>Dann war es vorbei.</p>
            <p>Als Max blinzelte, fand er sich nicht mehr in seinem Zimmer wieder. Er stand in einer engen, kopfsteingepflasterten Gasse. Die Gebäude zu beiden Seiten waren alt und schief, aus grobem Holz und Stein gebaut. Menschen in seltsamen Kleidern eilten an ihm vorbei, manche warfen ihm irritierte Blicke zu.</p>
            <p>Max schnappte nach Luft. „Wo bin ich?“ murmelte er, doch seine Stimme klang fremd, fast erstickt.</p>
            <p>Er spürte die Uhr in seiner Hand pulsieren, wie ein Herzschlag. Und dann hörte er eine Stimme hinter sich, leise und bedrohlich:</p>
            <p>„Na, Zeitnarr? Du hast keine Ahnung, was du da angerichtet hast.“</p>
            <p>Max drehte sich ruckartig um, doch die Gasse war leer. Sein Herz raste. Wer hatte gesprochen? Und vor allem – wie würde er hier wieder herauskommen?</p>
            <p>Max blieb wie angewurzelt stehen, während die kühle Luft der Gasse seine Haut prickeln ließ. Die Worte hallten in seinem Kopf wider: „Zeitnarr… keine Ahnung, was du da angerichtet hast.“ Sein Blick huschte über die unebenen Pflastersteine und die schiefen Holztüren der umliegenden Häuser. Kein Mensch war zu sehen, der die Worte hätte gesprochen haben können. Doch das Gefühl, beobachtet zu werden, ließ ihn nicht los.</p>
            <p>„Okay, cool bleiben“, murmelte er und zwang seine Beine, sich zu bewegen. Die pulsierende Taschenuhr in seiner Hand fühlte sich fast heiß an, und er schloss sie mit einem entschlossenen Klacken. Sofort ließ das seltsame Vibrieren in seiner Hand nach, aber das flaue Gefühl in seinem Magen blieb.</p>
            <p>Er ging langsam die Gasse entlang, sein Kopf drehte sich von rechts nach links, während er die Umgebung absuchte. Eine Markise, ausgeblichen und von Rissen durchzogen, hing über einem Laden, dessen schiefes Schild „Bäcker“ verkündete. Aus einer Seitengasse drang das Lachen von Kindern, und der Duft von frisch gebackenem Brot ließ Max kurz innehalten.</p>
            <p>Doch bevor er den Mut fand, jemanden anzusprechen, ertönte ein erneutes Flüstern. Es klang jetzt näher, fast so, als stünde der Sprecher direkt hinter ihm.</p>
            <p>„Du gehörst nicht hierher.“</p>
            <p>Max wirbelte herum, doch erneut war niemand zu sehen. Das Flüstern war verschwunden, aber diesmal bemerkte er etwas anderes: Ein Schatten huschte am Rand seines Blickfelds vorbei.</p>
            <p>„Hallo?“ Seine Stimme klang unsicher, fast wie ein Wimmern, und er verfluchte sich dafür. „Wer ist da? Zeig dich!“</p>
            <p>Eine Tür knarrte hinter ihm, und Max drehte sich so schnell um, dass ihm schwindelig wurde. Ein Junge, nicht viel älter als er selbst, trat aus einem der Häuser. Sein zerfledderter Umhang und die abgetragenen Stiefel passten perfekt in diese seltsam mittelalterliche Umgebung. Der Junge warf ihm einen misstrauischen Blick zu und hielt einen Korb voller Holzstücke in den Händen.</p>
            <p>„Wer bist du?“ fragte Max, bevor er sich selbst davon abhalten konnte.</p>
            <p>Der Junge kniff die Augen zusammen, als würde er etwas an Max prüfen. „Du kommst nicht von hier“, sagte er schließlich, mehr eine Feststellung als eine Frage. „Pass besser auf. Fremde haben hier keinen guten Stand.“</p>
            <p>Bevor Max etwas erwidern konnte, zog der Junge die Tür wieder hinter sich zu und ließ ihn allein.</p>
            <p>„Was zum…?“ Max strich sich mit der freien Hand durch die Haare und versuchte, einen klaren Gedanken zu fassen. Doch alles an diesem Ort war fremd. Die Geräusche, die Gerüche, selbst die Luft fühlten sich anders an. Er musste einen Weg finden, hier wegzukommen.</p>
            <p>Seine Finger schlossen sich um die Taschenuhr. Sie war die einzige Verbindung zu seiner Welt. Vielleicht konnte sie ihn zurückbringen, wenn er sie erneut aufzog. Doch die Worte des alten Mannes kamen ihm in den Sinn: „Sei vorsichtig mit ihr.“</p>
            <p>„Wieso hast du das nicht gleich gesagt, du Depp“, murmelte Max und hob die Uhr. Der Gedanke, sie einfach aufzuziehen, erschien ihm gleichzeitig verlockend und furchteinflößend. Doch bevor er eine Entscheidung treffen konnte, verdunkelte sich der Himmel über ihm.</p>
            <p>Ein tiefes, grollendes Geräusch ließ den Boden unter seinen Füßen vibrieren, und Max sah, wie die Menschen aus den umliegenden Häusern stürmten. Sie zeigten zum Horizont, wo sich eine dunkle Wolke rasend schnell näherte.</p>
            <p>„Der Sturm! Schließt die Tore!“ rief eine Frau, während sie panisch Kinder ins Haus zog.</p>
            <p>Max stand wie erstarrt da, seine Beine wollten sich nicht bewegen. Was für ein Sturm konnte so etwas auslösen? Und warum hatte er das Gefühl, dass es irgendwie mit ihm zusammenhing?</p>
            <p>Das Flüstern kehrte zurück, diesmal mit einem harten, eindringlichen Ton: „Renn, Zeitnarr, bevor es dich erwischt!“</p>
            <p>Max spürte, wie sein Herz raste. Ohne weiter nachzudenken, sprintete er los – direkt auf den drohenden Sturm zu.</p>
            <!-- Es folgen weitere Absätze des Kapitels; füge sie hier ein -->
        </div>
        <!-- Englischer Text (vorerst identisch, bis echte Übersetzung vorliegt) -->
        <div class="story-text language-content hidden" id="en-content">
            <p>Chapter 1: The Flea‑Market Find
The flea market was a world of its own. Rows of stalls stretched across the small marketplace, each laden with a colourful jumble of old, curious and valuable things. Max shoved his way through the crowd, hands buried deep in the pockets of his worn‑out jeans. His mother had dragged him along, even though he would have preferred to stay home.</p>
            <p>“Here, Max! Look, old books!” his mother called and disappeared among the stalls.</p>
            <p>Max sighed. Books were not his thing. He wandered aimlessly through the alleys until his gaze fell on a small stall. It was inconspicuous—a wrinkled old man sat on a wobbly chair behind a table covered with an assortment of seemingly worthless junk. Yet something on that table magically drew Max in.</p>
            <p>A pocket watch.</p>
            <p>The watch was made of brass, decorated with filigree engravings that ran like a maze across its surface. Its glass was slightly scratched, and the lid lay half open. Max reached for it, hesitated briefly, then took it in his hand. It felt surprisingly heavy, and when he opened it, the hands began a wild dance on their own.</p>
            <p>“Interested in old things?” asked the man hoarsely. His eyes sparkled in a way that Max couldn’t place—somewhere between curiosity and mystery.</p>
            <p>“Maybe. What does it cost?” Max turned the watch in his hand as the dial flashed in the afternoon sun.</p>
            <p>The man seemed to think for a moment. “For you? Ten euros. But be careful with it. This watch has more history than you can imagine.”</p>
            <p>Max pulled out his pocket money and laid it on the table. The man nodded curtly, took the money and smiled as Max walked away with the watch in his hand.</p>
            <p>At home, Max sat down at his desk. He flipped open the watch and examined the dial more closely. It seemed almost alive—the engravings moved slightly, as if they were breathing. Without thinking too long, he pulled the small crown on the side.</p>
            <p>Suddenly the air in the room seemed to vibrate. A deep hum filled his ears, and the walls around him blurred. Max’s eyes widened; he wanted to drop the watch, but it clung to his hand as if it were glued. A bright light flared, and for a moment the world seemed to stand still.</p>
            <p>Then it was over.</p>
            <p>When Max blinked, he was no longer in his room. He stood in a narrow, cobblestone alley. The buildings on either side were old and crooked, made of rough wood and stone. People in strange clothes hurried past him; some gave him puzzled looks.</p>
            <p>Max gasped. “Where am I?” he muttered, but his voice sounded foreign, almost strangled.</p>
            <p>He felt the watch pulsing in his hand like a heartbeat. Then he heard a voice behind him, soft and menacing:</p>
            <p>“Well, time fool? You have no idea what you’ve done.”</p>
            <p>Max turned sharply, but the alley was empty. His heart was racing. Who had spoken? And most of all—how would he get out of here?</p>
            <p>Max stood rooted to the spot as the cool air of the alley prickled his skin. The words echoed in his head: “Time fool… no idea what you’ve done.” His gaze darted over the uneven cobblestones and the crooked wooden doors of the surrounding houses. There was no one who could have spoken the words. Yet the feeling of being watched wouldn’t leave him.</p>
            <p>“Okay, stay cool,” he murmured and forced his legs to move. The pulsing pocket watch in his hand felt almost hot, and he snapped it shut with a determined click. The strange vibration in his hand immediately subsided, but the queasy feeling in his stomach remained.</p>
            <p>He walked slowly down the alley, his head turning from side to side as he scanned his surroundings. An awning, faded and cracked, hung over a shop with a crooked sign reading “Baker.” From a side alley came the laughter of children, and the smell of freshly baked bread made Max pause for a moment.</p>
            <p>But before he found the courage to speak to anyone, a whisper sounded again. It sounded closer now, almost as if the speaker was standing right behind him.</p>
            <p>“You don’t belong here.”</p>
            <p>Max spun around, but again there was no one to be seen. The whisper had vanished, but this time he noticed something else: a shadow flitted past the edge of his vision.</p>
            <p>“Hello?” His voice sounded uncertain, almost like a whimper, and he cursed himself for it. “Who’s there? Show yourself!”</p>
            <p>A door creaked behind him, and Max turned so quickly that he became dizzy. A boy, not much older than him, stepped out of one of the houses. His tattered cloak and worn boots fit perfectly into this strangely medieval setting. The boy threw him a suspicious look and held a basket full of wood.</p>
            <p>“Who are you?” asked Max before he could stop himself.</p>
            <p>The boy narrowed his eyes as if he were examining something about Max. “You’re not from here,” he said finally, more a statement than a question. “You’d better be careful. Strangers aren’t welcome here.”</p>
            <p>Before Max could reply, the boy pulled the door shut behind him and left him alone.</p>
            <p>“What the…?” Max ran his free hand through his hair and tried to think clearly. But everything in this place was strange. The sounds, the smells, even the air felt different. He had to find a way out of here.</p>
            <p>His fingers closed around the pocket watch. It was his only connection to his world. Maybe it could take him back if he wound it again. But the old man’s words came to mind: “Be careful with it.”</p>
            <p>“Why didn’t you say that right away, you fool,” Max muttered and raised the watch. The idea of winding it seemed both tempting and frightening. But before he could make a decision, the sky above him darkened.</p>
            <p>A deep rumbling sound made the ground beneath his feet vibrate, and Max saw people rushing out of the surrounding houses. They pointed toward the horizon, where a dark cloud was approaching at a frightening speed.</p>
            <p>“The storm! Close the gates!” cried a woman as she frantically pulled children into the house.</p>
            <p>Max stood frozen; his legs wouldn’t move. What kind of storm could cause such a commotion? And why did he feel like it had something to do with him?</p>
            <p>The whisper returned, this time with a hard, urgent tone: “Run, time fool, before it catches you!”</p>
            <p>Max felt his heart pounding. Without further thought, he sprinted—straight toward the looming storm.</p>
            <!-- Die weiteren Absätze entsprechen 1:1 dem deutschen Teil und können bei Bedarf übersetzt werden -->
        </div>
    </div>
    <script>
        let currentSpeech = null;
        let currentLanguage = "de";
        let currentWordIndex = 0;
        const allWords = { de: [], en: [] };
        let lastHighlightedWord = null;

        function initializeWords() {
            ["de", "en"].forEach((lang) => {
                const container = document.getElementById(`${lang}-content`);
                const paragraphs = container.querySelectorAll("p");
                let wordCounter = 0;
                allWords[lang] = [];
                paragraphs.forEach((paragraph) => {
                    const words = paragraph.textContent.trim().split(/\s+/);
                    let html = "";
                    words.forEach((word) => {
                        const safeWord = word.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                        html += `<span class="word" data-index="${wordCounter}" onclick="startFromWord(${wordCounter})">${safeWord}</span> `;
                        allWords[lang].push(word);
                        wordCounter++;
                    });
                    paragraph.innerHTML = html.trim();
                });
            });
        }

        function highlightWord(index) {
            if (lastHighlightedWord) lastHighlightedWord.classList.remove("word-highlight");
            const element = document.querySelector(`#${currentLanguage}-content .word[data-index="${index}"]`);
            if (element) {
                element.classList.add("word-highlight");
                lastHighlightedWord = element;
                element.scrollIntoView({ behavior: "smooth", block: "center" });
            }
        }

        function startReading() {
            currentWordIndex = 0;
            if (currentSpeech) speechSynthesis.cancel();
            continueReading();
        }

        function continueReading() {
            if (currentSpeech) speechSynthesis.cancel();
            const words = allWords[currentLanguage];
            if (words && words.length > currentWordIndex) {
                const remaining = words.slice(currentWordIndex).join(" ");
                currentSpeech = new SpeechSynthesisUtterance(remaining);
                currentSpeech.rate = 1.0;
                currentSpeech.lang = currentLanguage === "de" ? "de-DE" : "en-US";
                let localIndex = currentWordIndex;
                currentSpeech.onboundary = function (event) {
                    if (event.name === "word") {
                        highlightWord(localIndex);
                        localIndex++;
                        currentWordIndex = localIndex;
                    }
                };
                currentSpeech.onend = function () {};
                speechSynthesis.speak(currentSpeech);
            }
        }

        function startFromWord(index) {
            currentWordIndex = index;
            if (currentSpeech) speechSynthesis.cancel();
            continueReading();
        }

        function stopReading() {
            if (currentSpeech) {
                speechSynthesis.cancel();
                currentSpeech = null;
            }
        }

        function switchLanguage(lang, event) {
            stopReading();
            currentLanguage = lang;
            currentWordIndex = 0;
            document.querySelectorAll(".language-content").forEach((elem) => elem.classList.add("hidden"));
            document.getElementById(`${lang}-content`).classList.remove("hidden");
            const labels = {
                de: { play: "Vorlesen", cont: "Weiterlesen", stop: "Stop" },
                en: { play: "Read", cont: "Continue", stop: "Stop" },
            };
            document.getElementById("btn-play").innerHTML = `▶️ ${labels[lang].play}`;
            document.getElementById("btn-continue").innerHTML = `⏩ ${labels[lang].cont}`;
            document.getElementById("btn-stop").innerHTML = `⏹️ ${labels[lang].stop}`;
            document.querySelectorAll(".btn-lang").forEach((btn) => btn.classList.remove("active"));
            if (event && event.target) event.target.classList.add("active");
            const topElem = document.getElementById(`${lang}-content`);
            if (topElem) topElem.scrollIntoView({ behavior: "smooth", block: "start" });
        }

        document.addEventListener("DOMContentLoaded", () => {
            initializeWords();
            switchLanguage("de");
        });
    </script>
</body>
</html>

